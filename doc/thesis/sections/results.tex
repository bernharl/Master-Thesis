In this chapter we present our results in chronological order. Many of the results 
ARE Found based on earlier results, so we find it natural to include some amount 
of discussion of the results as they are presented to be able to argue for why we 
approach the problem the way we do further down.

\begin{table}
    \caption{Hyperparameters chosen for each model in Table \ref{all models}.}
\end{table}
\section{CAMELS-GB}
In this sections we present the results related to model selection and feature 
importance when training and predicting on CAMELS-GB \citep{CAMELS_GB}.
\subsection{Performance}
\begin{figure}
    \centering
    \includegraphics{{results_section/camels_gb/cdf_val}.pdf}
    \caption{hi}
    \label{CAMELS-GB CDF validation}
\end{figure}
\subsection{Importance}
\begin{figure}
\caption{Model trained with access to attributes derived from the outcome.}
\end{figure}
\section{CAMELS}
\subsection{Performance}
\begin{figure}
    \centering
    \includegraphics{{results_section/camels_us/cdf_val}.pdf}
    \caption{hi}
    \label{CAMELS-US CDF validation}
\end{figure}
\subsection{Importance}
\section{Mixed model}
\subsection{Performance}
\begin{figure}
    \centering
    \includegraphics{{results_section/mixed/cdf_val}.pdf}
    \caption{hi}
    \label{mixed CDF validation}
\end{figure}
\subsection{Importance}
\section{Transfer learning}
\subsection{Performance}
\begin{figure}
    \centering
    \includegraphics{{results_section/transfer/cdf_val}.pdf}
    \caption{hi}
    \label{transfer CDF validation}
\end{figure}
\subsection{Importance}
\section{Test performance of best models}
Note that when doing model selection we do not look at test set performance, only 
performance on the cross validated train set.
%\begin{table}
%    \begin{adjustbox}{width=\textwidth}
%    \input{tables/linreg_no_static.tex}
%    \end{adjustbox}
%    \caption{Table for attempt at linear regression. This model is fit on the static
%    features as input values, and the NSE of an LSTM trained without static features
%    for each basin in the validation set. The $R^2$ score of this model is $\approx 0.5$}
%    \label{linreg_no_static_table}
%\end{table}
%In table \ref{linreg_no_static_table} we can see that our linear regression used to model 
%the relationship between NSE value of models and static features has decided that 
%several features are important. All these coefficients have a p-value $<0.5$. The 
%problem with this model was that it achieved an $R^2$ score of $\approx 0.5$, meaning 
%it does not actually explain the relationship well. We therefore choose to change 
%strategy for feature selection. 
\begin{comment}
\begin{figure}
    \includegraphics{{correlation_reduction/all_features/corr_and_dendrogram}.pdf}
    \caption{The Pearson correlation matrix and the corresponding hierarchial
    cluster of the training set before removing correlated features. The process
    of creating the dendrogram is described in chapter \ref{Feature selection}. 
    For readability's sake we cannot include every label in the correlation matrix.}
    \label{corr_matrix_full}
\end{figure}

\begin{figure}
    \includegraphics{reduced_matrix.pdf}
    \caption{Correlation matrix after backward selection}
    \label{corr_matrix_reduced}
\end{figure}

%\subsection{Performance of full model}
\begin{figure}
%\includegraphics[scale=1]{{permutation/all_features_cv/histogram_all}.pdf}
    \includegraphics{{figures/permutation/all_features_cv/histogram_all}.pdf}
\caption{The two most important (above) and least important (below) features according 
to the permutation test}
\label{Hist all}
\end{figure}



\begin{figure}
    \centering
    \includegraphics{{CDFs/mixed_model_comparisons}.pdf}
    \caption{top kjeks}
    \label{main cdf}
\end{figure}
\end{comment}
